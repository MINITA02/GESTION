"use strict";(self.webpackChunkgestion_documental=self.webpackChunkgestion_documental||[]).push([[190],{5190:(e,r,a)=>{a.r(r),a.d(r,{default:()=>o});var n=a(5043),t=(a(3150),a(579));const o=()=>{const[e,r]=(0,n.useState)([]),[a,o]=(0,n.useState)(""),[s,l]=(0,n.useState)(""),[i,c]=(0,n.useState)(""),[u,d]=(0,n.useState)(""),[h,p]=(0,n.useState)(""),[x,j]=(0,n.useState)(""),[m,v]=(0,n.useState)(""),[g,C]=(0,n.useState)(""),[S,f]=(0,n.useState)(""),[b,N]=(0,n.useState)(!1),[y,q]=(0,n.useState)(null);(0,n.useEffect)((()=>{var e;const a=JSON.parse(null!==(e=localStorage.getItem("usuarios"))&&void 0!==e?e:"[]");r(a)}),[]);return(0,t.jsxs)("div",{className:"container",children:[(0,t.jsx)("div",{className:"btn-container",children:(0,t.jsx)("button",{onClick:()=>window.location.href="./loginAdmin",children:"Cerrar sesi\xf3n"})}),(0,t.jsx)("h1",{className:"h1",children:"Gesti\xf3n de Informes y Usuarios"}),(0,t.jsxs)("div",{className:"section",children:[(0,t.jsx)("h2",{children:"Administraci\xf3n de Usuarios"}),(0,t.jsxs)("form",{onSubmit:n=>{if(n.preventDefault(),!(a&&s&&i&&u&&h&&x&&g&&S||(alert("Por favor, complete todos los campos obligatorios."),0)))return;if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u)&&(alert("Por favor, ingrese un correo electr\xf3nico v\xe1lido."),1))return;if(g.length<4&&(alert("La contrase\xf1a debe tener al menos ".concat(4," caracteres.")),1))return;if(g!==S)return void alert("Las contrase\xf1as no coinciden.");const t={username:a,nombre:s,apellido:i,correo:u,celular:h,rol:x,departamento:m,contrasena:g};let k;b&&null!==y?(k=[...e],k[y]=t,N(!1),q(null)):k=[...e,t],r(k),localStorage.setItem("usuarios",JSON.stringify(k)),o(""),l(""),c(""),d(""),p(""),j(""),v(""),C(""),f("")},id:"usuarioForm",children:[(0,t.jsx)("input",{type:"text",value:a,onChange:e=>o(e.target.value),placeholder:"Nombre de usuario",required:!0}),(0,t.jsx)("input",{type:"text",value:s,onChange:e=>l(e.target.value),placeholder:"Nombre",required:!0}),(0,t.jsx)("input",{type:"text",value:i,onChange:e=>c(e.target.value),placeholder:"Apellido",required:!0}),(0,t.jsx)("input",{type:"email",value:u,onChange:e=>d(e.target.value),placeholder:"Correo electr\xf3nico",required:!0}),(0,t.jsx)("input",{type:"tel",value:h,onChange:e=>p(e.target.value),placeholder:"N\xfamero de celular",required:!0}),(0,t.jsxs)("select",{value:m,onChange:e=>v(e.target.value),required:!0,children:[(0,t.jsx)("option",{value:"",children:"Seleccione un departamento"}),(0,t.jsx)("option",{value:"informatica",children:"Inform\xe1tica"}),(0,t.jsx)("option",{value:"administracion",children:"Administraci\xf3n"}),(0,t.jsx)("option",{value:"contabilidad",children:"Contabilidad"}),(0,t.jsx)("option",{value:"medicina",children:"Medicina"}),(0,t.jsx)("option",{value:"educacion",children:"educacion"}),(0,t.jsx)("option",{value:"derecho",children:"derecho"})]}),(0,t.jsxs)("select",{value:x,onChange:e=>j(e.target.value),required:!0,children:[(0,t.jsx)("option",{value:"",children:"Seleccione un rol"}),(0,t.jsx)("option",{value:"visualizar",children:"Solo Visualizar"}),(0,t.jsx)("option",{value:"editar",children:"Editar"}),(0,t.jsx)("option",{value:"ninguno",children:"Ninguno"})]}),(0,t.jsx)("input",{type:"password",value:g,onChange:e=>C(e.target.value),placeholder:"Contrase\xf1a",required:!0}),(0,t.jsx)("input",{type:"password",value:S,onChange:e=>f(e.target.value),placeholder:"Verificar Contrase\xf1a",required:!0}),(0,t.jsx)("button",{type:"submit",children:b?"Actualizar Usuario":"Crear Usuario"})]})]}),(0,t.jsx)("div",{id:"usuariosContainer",children:e.map(((a,n)=>(0,t.jsxs)("div",{className:"usuario",children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Nombre de usuario:"})," ",a.username]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Nombre:"})," ",a.nombre]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Apellido:"})," ",a.apellido]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Correo electr\xf3nico:"})," ",a.correo]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"N\xfamero de celular:"})," ",a.celular]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Rol:"})," ",a.rol]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Departamento:"})," ",a.departamento]}),(0,t.jsx)("button",{className:"edit",onClick:()=>(r=>{const a=e[r];o(a.username),l(a.nombre),c(a.apellido),d(a.correo),p(a.celular),j(a.rol),v(a.departamento),C(a.contrasena),f(a.contrasena),N(!0),q(r)})(n),children:"Editar"}),(0,t.jsx)("button",{className:"delete",onClick:()=>(a=>{const n=e.filter(((e,r)=>r!==a));r(n),localStorage.setItem("usuarios",JSON.stringify(n))})(n),children:"Borrar"})]},n)))})]})}},3150:()=>{}}]);
//# sourceMappingURL=190.e0823058.chunk.js.map